<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:goosorgtr_mobil.ViewModels"
             x:Class="goosorgtr_mobil.ParentViews.ParentStudentHomeWorkDetails"
             Title="Dersler"
             BackgroundColor="#F5F5F5">
    <ContentPage.BindingContext>
        <vm:LessonDetailsViewModel />
    </ContentPage.BindingContext>

    <Grid RowDefinitions="Auto,Auto,*" Padding="0">
        <!-- TabBar -->
        <StackLayout Orientation="Horizontal" 
                     BackgroundColor="#EFEFEF"
                     Padding="16" 
                     Spacing="16">
            <Button Text="Sınavlar" 
                    FontSize="14" 
                    TextColor="White" 
                    BackgroundColor="#3498DB"
                    CornerRadius="10"
                    Command="{Binding NavigateToExamsCommand}" />
            <Button Text="Ders Notları" 
                    FontSize="14" 
                    TextColor="White" 
                    BackgroundColor="#2ECC71"
                    CornerRadius="10"
                    Command="{Binding NavigateToGradesCommand}" />
            <Button Text="Karne" 
                    FontSize="14" 
                    TextColor="White" 
                    BackgroundColor="#E74C3C"
                    CornerRadius="10"
                    Command="{Binding NavigateToReportCardCommand}" />
        </StackLayout>

        <!-- Başlık -->
        <Label Grid.Row="1"
               Text="Derslerim"
               FontSize="24"
               FontAttributes="Bold"
               TextColor="#2C3E50"
               HorizontalOptions="Start"
               Margin="20,16,0,16"/>

        <!-- İçerik -->
        <RefreshView Grid.Row="2"
                     IsRefreshing="{Binding IsRefreshing,Mode=TwoWay}"
                     Command="{Binding RefreshCoursesCommand}">
            <CollectionView ItemsSource="{Binding Courses}"
                            SelectionMode="Single"
                            BackgroundColor="Transparent"
                            SelectionChangedCommand="{Binding CourseSelectedCommand}"
                            SelectionChangedCommandParameter="{Binding Source={RelativeSource Self}, Path=SelectedItem}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BorderColor="Transparent"
                               BackgroundColor="White"
                               Margin="16,12"
                               Padding="16"
                               CornerRadius="16"
                               HasShadow="True">
                            <StackLayout>
                                <Label Text="{Binding CourseName}"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       TextColor="#1A1A1A"/>
                                <Label Text="{Binding CourseTeacher}"
                                       FontSize="14"
                                       TextColor="#666666"/>
                            </StackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </RefreshView>
    </Grid>
</ContentPage>